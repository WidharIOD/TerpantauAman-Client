{"ast":null,"code":"var _jsxFileName = \"/Users/widhardwiatmoko/Desktop/TerpantauAman/realtime-client/src/components/section3.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { doc, getDoc } from \"firebase/firestore\";\nimport db from \"../firebaseConfig\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Section3 = () => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Retrieve values from previous steps\n  const {\n    dimensions,\n    metric,\n    isEditing,\n    reportName\n  } = location.state || {};\n\n  // State to manage the selected refresh time\n  const [selectedRefreshTime, setSelectedRefreshTime] = useState(\"5 minutes\"); // Default to 5 minutes\n\n  useEffect(() => {\n    if (isEditing && reportName) {\n      const fetchData = async () => {\n        try {\n          const docRef = doc(db, \"Live Report\", reportName);\n          const docSnap = await getDoc(docRef);\n          if (docSnap.exists()) {\n            const reportData = docSnap.data();\n            setSelectedRefreshTime(reportData.refreshTime);\n          } else {\n            console.log(\"No such document!\");\n          }\n        } catch (error) {\n          console.error(\"Error fetching data:\", error);\n        }\n      };\n      fetchData();\n    }\n  }, [isEditing, reportName]);\n\n  // Handle radio button change\n  const handleRefreshTimeChange = event => {\n    setSelectedRefreshTime(event.target.value);\n  };\n\n  // Handle form submission\n  const handleSubmit = () => {\n    if (selectedRefreshTime) {\n      navigate(\"/userinfo\", {\n        state: {\n          dimensions,\n          metric,\n          refreshTime: selectedRefreshTime,\n          reportName,\n          // Pass reportName along (cannot be changed)\n          isEditing\n        }\n      });\n    } else {\n      alert(\"Please select a refresh time.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Refresh Time\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You can only select one option:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"refreshTime\",\n            value: \"5 minutes\",\n            checked: selectedRefreshTime === \"5 minutes\",\n            onChange: handleRefreshTimeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), \" \", \"5 minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"refreshTime\",\n            value: \"10 minutes\",\n            checked: selectedRefreshTime === \"10 minutes\",\n            onChange: handleRefreshTimeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), \" \", \"10 minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"refreshTime\",\n            value: \"15 minutes\",\n            checked: selectedRefreshTime === \"15 minutes\",\n            onChange: handleRefreshTimeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), \" \", \"15 minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Finish\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Section3, \"JQdwSVSLZDWB4ScAEy5GMTpuWG4=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Section3;\nexport default Section3;\nvar _c;\n$RefreshReg$(_c, \"Section3\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","doc","getDoc","db","jsxDEV","_jsxDEV","Section3","_s","navigate","location","dimensions","metric","isEditing","reportName","state","selectedRefreshTime","setSelectedRefreshTime","fetchData","docRef","docSnap","exists","reportData","data","refreshTime","console","log","error","handleRefreshTimeChange","event","target","value","handleSubmit","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","type","name","checked","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/widhardwiatmoko/Desktop/TerpantauAman/realtime-client/src/components/section3.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { doc, getDoc } from \"firebase/firestore\";\nimport db from \"../firebaseConfig\";\n\nconst Section3 = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Retrieve values from previous steps\n  const { dimensions, metric, isEditing, reportName } = location.state || {};\n\n  // State to manage the selected refresh time\n  const [selectedRefreshTime, setSelectedRefreshTime] = useState(\"5 minutes\"); // Default to 5 minutes\n\n  useEffect(() => {\n    if (isEditing && reportName) {\n      const fetchData = async () => {\n        try {\n          const docRef = doc(db, \"Live Report\", reportName);\n          const docSnap = await getDoc(docRef);\n\n          if (docSnap.exists()) {\n            const reportData = docSnap.data();\n            setSelectedRefreshTime(reportData.refreshTime);\n          } else {\n            console.log(\"No such document!\");\n          }\n        } catch (error) {\n          console.error(\"Error fetching data:\", error);\n        }\n      };\n\n      fetchData();\n    }\n  }, [isEditing, reportName]);\n\n  // Handle radio button change\n  const handleRefreshTimeChange = (event) => {\n    setSelectedRefreshTime(event.target.value);\n  };\n\n  // Handle form submission\n  const handleSubmit = () => {\n    if (selectedRefreshTime) {\n      navigate(\"/userinfo\", {\n        state: {\n          dimensions,\n          metric,\n          refreshTime: selectedRefreshTime,\n          reportName, // Pass reportName along (cannot be changed)\n          isEditing,\n        },\n      });\n    } else {\n      alert(\"Please select a refresh time.\");\n    }\n  };\n\n  return (\n    <div>\n      <h1>Refresh Time</h1>\n      <p>You can only select one option:</p>\n\n      <form>\n        <div>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"refreshTime\"\n              value=\"5 minutes\"\n              checked={selectedRefreshTime === \"5 minutes\"}\n              onChange={handleRefreshTimeChange}\n            />{\" \"}\n            5 minutes\n          </label>\n        </div>\n        <div>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"refreshTime\"\n              value=\"10 minutes\"\n              checked={selectedRefreshTime === \"10 minutes\"}\n              onChange={handleRefreshTimeChange}\n            />{\" \"}\n            10 minutes\n          </label>\n        </div>\n        <div>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"refreshTime\"\n              value=\"15 minutes\"\n              checked={selectedRefreshTime === \"15 minutes\"}\n              onChange={handleRefreshTimeChange}\n            />{\" \"}\n            15 minutes\n          </label>\n        </div>\n      </form>\n\n      <button onClick={handleSubmit}>Finish</button>\n    </div>\n  );\n};\n\nexport default Section3;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}